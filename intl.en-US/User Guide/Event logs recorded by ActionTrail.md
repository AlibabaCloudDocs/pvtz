Event logs recorded by ActionTrail 
=======================================================

Alibaba Cloud DNS PrivateZone is integrated with ActionTrail. You can view and retrieve behavioral logs in ActionTrail. Meanwhile, you can use ActrionTrail to deliver events to a Log Service Logstore or an Object Storage Service (OSS) bucket. ActrionTrail allows you to audit events in real time and troubleshoot issues.

Alibaba Cloud DNS PrivateZone is integrated with ActionTrail. You can view and retrieve behavioral logs in ActionTrail. Meanwhile, you can use ActrionTrail to deliver events to a Log Service Logstore or an Object Storage Service (OSS) bucket. ActrionTrail allows you to audit events in real time and troubleshoot issues.

Event logs of PrivateZone recorded by ActionTrail 
----------------------------------------------------------------------

ActionTrail records the events generated by API operation calls for PrivateZone. In the event logs, the value of the eventType parameter is ApiCall. For more information about event descriptions, see [List of operations by function](https://www.alibabacloud.com/help/zh/doc-detail/66234.htm?spm=a2c63.l28256.b99.31.c3c850b760jZKA).



The following table describes the events that are generated by API operations calls but not mentioned in API reference.


|-----------|-------------------------|-------------------------------------------------------------------|
| Even type | Event name              | Description                                                       |
| ApiCall   | ImportEcsHostName       | A hostname record is added.                                       |
| ApiCall   | UpdateSyncEcsHostTasK   | Configurations of automatic hostname synchronization are updated. |
| ApiCall   | UpdateSlaveDnsConfig    | Secondary DNS configurations are updated.                         |
| ApiCall   | SetSlaveDnsConfigStatus | Secondary DNS is enabled or disabled.                             |
| ApiCall   | DeleteSlaveDnsConfig    | Secondary DNS configurations are deleted.                         |
| ApiCall   | AddSlaveDnsConfig       | Secondary DNS configurations are added.                           |


Note: This topic does not provide specific API operations that are still being adjusted and optimized.

Sample event log 
-------------------------------------

The following code provides an example on how ActionTrail records the event when you add a Domain Name System (DNS) record in PrivateZone. The sample event log shows the details of the AddZoneRecord event.

    {
      "eventId": "99680534-****-****-****-DCFD92E18FAB",
      "eventVersion": 1,
      "responseElements": {
        "RequestId": "99680534-****-****-****-DCFD92E18FAB",
        "RecordId": 175***657,
        "Success": true
      },
      "eventSource": "pvtz.aliyuncs.com",
      "requestParameters": {
        "Rr": "abc",
        "userClientIp": "100. **. ***.69",
        "AcsHost": "pvtz.aliyuncs.com",
        "ZoneId": "d696741102e*******0ca13e934bd07",
        "RequestId": "99680534-****-****-****-DCFD92E18FAB",
        "Lang": "zh",
        "HostId": "pvtz.aliyuncs.com",
        "Ttl": 60,
        "Type": "A",
        "ServiceCode": "pvtz",
        "AcsProduct": "pvtz",
        "UserClientIp": "100. **. ***.69",
        "Value": "5. *. *.5",
        "RegionId": "cn-hangzhou"
      },
      "sourceIpAddress": "Internal",
      "userAgent": "AlibabaCloud (Linux; amd64) Java/1.**_172-b9 Core/***.6 HTTPClient/ApacheHttpClient",
      "eventType": "ApiCall",
      "referencedResources": {
        "ACS::PrivateZone::ZoneRecord": [
          "175***657"
        ]
      },
      "userIdentity": {
      updateZOne  "sessionContext": {
          "attributes": {
            "mfaAuthenticated": "false"
          }
        },
        "accountId": "12046******1685",
        "principalId": "12046******1685",
        "type": "root-account",
        "userName": "root"
      },
      "serviceName": "PrivateZone",
      "additionalEventData": {
        "Scheme": "http"
      },
      "apiVersion": "2018-01-01",
      "requestId": "99680534-****-****-****-DCFD92E18FAB",
      "eventTime": "2021-01-08T04:56:37Z",
      "isGlobal": false,
      "acsRegion": "cn-hangzhou",
      "eventName": "AddZoneRecord"
    }



